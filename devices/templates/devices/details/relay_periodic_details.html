{% load static %}
<fieldset>
    Active days:
    <ul>
        {% for day in device_config.get_active_days %}
            <li>
                {{ day.get_day_display }}
                <input type="submit" value="Remove" form="form_remove_active_day{{ device.id }}_{{ day.day }}"
                       class="rp_edit_buttons">
                <form action="{% url 'devices:periodic_relay_remove_active_day' device.id %}" method="post"
                      id="form_remove_active_day{{ device.id }}_{{ day.day }}">
                    {% csrf_token %}
                    <input type="hidden" name="day" value="{{ day.day }}">
                    <input type="hidden" name="next" value="{{ request.path }}">
                </form>
            </li>
        {% endfor %}
    </ul>
    <form action="{% url 'devices:periodic_relay_add_active_day' device.id %}" method="post">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ request.path }}">
        <label for="select_day">Add new day:</label>
        <select name="day" id="select_day">
            <option value="">Select day</option>
            {% for day in device_config.get_inactive_days %}
                <option value="{{ day.0 }}">{{ day.1 }}</option>
            {% endfor %}
        </select>
        <input type="submit" value="Add">
    </form>
</fieldset>
<fieldset>
    Active periods:
    <ul>
        {% for period in device_config.get_active_periods %}
            <li>{{ period.get_begin_display }} - {{ period.get_end_display }}
                <input type="submit" value="Remove" form="form_remove_active_period{{ device.id }}_{{ period.id }}"
                       class="rp_edit_buttons">
                <form action="{% url 'devices:periodic_relay_remove_active_period' device.id %}" method="post"
                      id="form_remove_active_period{{ device.id }}_{{ period.id }}">
                    {% csrf_token %}
                    <input type="hidden" name="period_id" value="{{ period.id }}">
                    <input type="hidden" name="next" value="{{ request.path }}">
                </form>
            </li>
        {% endfor %}
    </ul>
    <form action="{% url 'devices:periodic_relay_add_active_period' device.id %}" method="post">
        {% csrf_token %}
        <input type="hidden" name="next" value="{{ request.path }}">
        <label for="begin_time">Begin:</label>
        <input type="time" name="begin" id="begin_time">
        <label for="end_time">End:</label>
        <input type="time" name="end" id="end_time">
        <input type="submit" value="Add">
    </form>
</fieldset>
<input type="button" value="edit" class="show_rp_edit_buttons" onclick="show_edit_buttons_clicked()">
<input type="button" value="cancel edit" class="rp_edit_buttons" onclick="hide_edit_buttons()">

<script src="https://code.jquery.com/jquery-3.7.1.min.js"
        integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
        crossorigin="anonymous"></script>
<script src="{% static 'devices/js/relay_periodic_edit.js' %}"></script>
<script>
    $(document).ready(function () {
        show_edit_buttons_if_needed();
    });
</script>
